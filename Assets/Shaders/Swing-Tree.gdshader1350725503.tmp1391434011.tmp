shader_type canvas_item;

uniform float sway_speed : hint_range(0.1, 10.0) = 1.5;
uniform float sway_strength : hint_range(0.0, 0.1) = 0.03;
uniform float sway_scale : hint_range(0.1, 10.0) = 3.0;

void fragment() {
    vec2 uv = UV;

    // التمايل يكون معتمد على الـ y (الجذع ثابت والأعلى بيتحرك أكتر)
    float sway = sin(TIME * sway_speed + uv.y * sway_scale) * sway_strength;

    // نحرك بس على محور x عشان يبان كأنه بيتمايل مع الهوا
    uv.x += sway;

    // نرجع اللون عادي
    COLOR = texture(TEXTURE, uv) * COLOR;
}
